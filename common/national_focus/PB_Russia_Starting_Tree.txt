#Russian Starting Tree or "Nicky Boi is a dyin"

shared_focus = {
	id = PB_RUS_Death_Taxes_And_Royalty
	icon = GFX_RUS_Tsar_Eternal
	x = 10
	y = 1
	cost = 10
	search_filters = {FOCUS_FILTER_POLITICAL}
	
	completion_reward = {
		unlock_decision_category_tooltip = PB_RUS_Power_Struggle_Mechanic
		RUS = {
			country_event = {
				id = RUS.41
				days = 1
			}
		}
		custom_effect_tooltip = PB_RUS_Death_Taxes_And_Royalty_tt
	}
}

shared_focus = {
	id = PB_RUS_Appeal_To_The_Peasants
	icon = GFX_goal_Generic_Working_Class_Family
	x = 2
	y = 1
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	available = {
		OR = {
			has_country_flag = RUS_Kirill_Picked
			has_country_flag = RUS_Alexandra_Picked
			has_country_flag = RUS_Alexei_Picked
		}
	}
	prerequisite = {
		focus = PB_RUS_Death_Taxes_And_Royalty
	}
	mutually_exclusive = {
		focus = PB_RUS_Exiles_For_A_Far_Away_Land
		focus = PB_RUS_Desk_Inspections
	}
	
	completion_reward = {
		add_political_power = -100
		add_to_variable = {
			var = RUS_Ethnic_Cohesion
			value = 0.06
		}
		custom_effect_tooltip = RUS_Ethnic_Cohesion_0.06_increase
		activate_mission_tooltip = RUS_Appeal_To_The_Peasants
		custom_effect_tooltip = PB_RUS_Appeal_To_The_Peasants_tt
	}
}

shared_focus = {
	id = PB_RUS_Exiles_For_A_Far_Away_Land
	icon = GFX_goal_national_transit_commission
	x = -2
	y = 1
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	available = {
		OR = {
			has_country_flag = RUS_Kirill_Picked
			has_country_flag = RUS_Alexandra_Picked
			has_country_flag = RUS_Alexei_Picked
		}
	}
	prerequisite = {
		focus = PB_RUS_Death_Taxes_And_Royalty
	}
	mutually_exclusive = {
		focus = PB_RUS_Appeal_To_The_Peasants
		focus = PB_RUS_Desk_Inspections
	}
	
	completion_reward = {
		add_war_support = -0.1
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.06
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.06_decrease
		activate_mission_tooltip = RUS_Exiles_For_A_Far_Away_Land 
		custom_effect_tooltip = PB_RUS_Exiles_For_A_Far_Away_Land_tt
	}
}

shared_focus = {
	id = PB_RUS_Desk_Inspections
	icon = GFX_goal_Generic_Espionage03
	x = 0
	y = 1
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}
    cancel_if_invalid = yes

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	available = {
		OR = {
		    has_country_flag = RUS_Alexandra_Picked
		    has_country_flag = RUS_Alexei_Picked
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = RUS_Kirill_Picked_Desk_Inspections_Blocked
			    has_country_flag = RUS_Kirill_Picked
			}
		}
	}
	prerequisite = {
		focus = PB_RUS_Death_Taxes_And_Royalty
	}
	mutually_exclusive = {
		focus = PB_RUS_Appeal_To_The_Peasants
		focus = PB_RUS_Exiles_For_A_Far_Away_Land
	}
	
	completion_reward = {
		add_stability = -0.1
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.06
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.06_decrease
		activate_mission_tooltip = RUS_Desk_Inspections
		custom_effect_tooltip = PB_RUS_Desk_Inspections_tt
	}
}

shared_focus = {
	id = PB_RUS_Operation_Skazki
	icon = GFX_goal_Generic_Black_Hundreds
	x = 0
	y = 2
	cost = 35
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Desk_Inspections
		focus = PB_RUS_Exiles_For_A_Far_Away_Land
		focus = PB_RUS_Appeal_To_The_Peasants
	}
	
	completion_reward = {
		RUS = {
			country_event = {
				id = RUS.42
				days = 1
			}
		}
		every_controlled_state = {
			limit = {
				is_core_of = RUS
			}
			add_manpower = -2500
		}
		add_stability = -0.1
		add_popularity = {
            ideology = ni
            popularity = -0.1
        }
	}
}

shared_focus = {
	id = PB_RUS_The_Veteran_Issue
	icon = GFX_goal_GER_freikorps_question
	x = -4
	y = 3
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Operation_Skazki
	}
	
	completion_reward = {
		add_ideas = PB_RUS_Military_Reform
		country_lock_all_division_template = yes
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.04
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.04_decrease
	}
}

shared_focus = {
	id = PB_RUS_Know_Your_Enemy
	icon = GFX_goal_generic_gun_capture
	x = -2
	y = 3
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Operation_Skazki
	}
	
	completion_reward = {
		custom_effect_tooltip = PB_RUS_Know_Your_Enemy_tt
		hidden_effect = {
		    load_oob = "RUS_Black_hundreds"
		}
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.04
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.04_decrease
		add_to_variable = {
			var = RUS_Ethnic_Cohesion
			value = -0.04
		}
		custom_effect_tooltip = RUS_Ethnic_Cohesion_0.04_decrease
	}
}

shared_focus = {
	id = PB_RUS_Point_The_Finger
	icon = GFX_goal_Focus_FRA_Anti_Semetism
	x = 0
	y = 3
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Operation_Skazki
	}
	
	completion_reward = {
		add_to_variable = {
			var = RUS_Ethnic_Cohesion
			value = -0.06
		}
		custom_effect_tooltip = RUS_Ethnic_Cohesion_0.06_decrease
		add_stability = -0.1
		add_manpower = -30000
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
	}
}

shared_focus = {
	id = PB_RUS_Ban_Unions_Entirely
	icon = GFX_goal_Generic_Upset_the_Balance
	x = 2
	y = 3
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Operation_Skazki
	}
	
	completion_reward = {
		swap_ideas = {
			remove_idea = PB_Trade_Unions_Non_Socialist
			add_idea = PB_Trade_Unions_Banned 
		}
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.06
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.06_decrease
	}
}

shared_focus = {
	id = PB_RUS_The_All_Seeing_Eye
	icon = GFX_goal_generic_crush_resistance
	x = 4
	y = 3
	cost = 20
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	prerequisite = {
		focus = PB_RUS_Operation_Skazki
	}
	
	completion_reward = {
		swap_ideas = {
			remove_idea = PB_Public_Meetings_Monitored
			add_idea = PB_Public_Meetings_Banned
		}
		add_to_variable = {
			var = RUS_Political_Dissonance
			value = -0.06
		}
		custom_effect_tooltip = RUS_Political_Dissonance_0.06_decrease
	}
}
shared_focus = {
	id = PB_RUS_Russias_Holiest_Day
	icon = GFX_goal_Focus_RUS_Cult
	x = 0
	y = 4
	cost = 10
	search_filters = {FOCUS_FILTER_POLITICAL}

	relative_position_id = PB_RUS_Death_Taxes_And_Royalty
	available = {
		has_country_flag = RUS_TSAR_VERY_SICK
	}
	prerequisite = {
		focus = PB_RUS_The_All_Seeing_Eye
		focus = PB_RUS_Ban_Unions_Entirely
		focus = PB_RUS_Point_The_Finger
		focus = PB_RUS_Know_Your_Enemy
		focus = PB_RUS_The_Veteran_Issue 
	}
	
	completion_reward = {
		custom_effect_tooltip = PB_RUS_Russias_Holiest_Day_tt
		remove_ideas = PB_RUS_the_plotting_scoundrels
		hidden_effect = {
			set_country_flag = Succession_Struggle_Over
			# Kirill is considered the default leader for simplicity sake
			if = {
				limit = {
					AND = {
					    check_variable = { RUS_kirill_power > RUS_alexei_power  }
					    check_variable = { RUS_kirill_power > RUS_alexandra_power  }
					}
				}
				load_focus_tree = PB_RUS_kirill_tree
			}
			else_if = {
				limit = {
					AND = {
					    check_variable = { RUS_kirill_power > RUS_alexei_power  }
					    check_variable = { RUS_kirill_power = RUS_alexandra_power  }
					}
				}
				load_focus_tree = PB_RUS_kirill_tree
			}
			else_if = {
				limit = {
					AND = {
					    check_variable = { RUS_kirill_power = RUS_alexei_power  }
					    check_variable = { RUS_kirill_power > RUS_alexandra_power  }
					}
				}
				load_focus_tree = PB_RUS_kirill_tree
			} 
			#
			if = {
				limit = {
					AND = {
					    check_variable = { RUS_alexei_power > RUS_kirill_power  }
					    check_variable = { RUS_alexei_power > RUS_alexandra_power  }
					}
				}
				load_focus_tree = PB_RUS_alexei_tree
			}
			else_if = {
				limit = {
					AND = {
					    check_variable = { RUS_alexei_power > RUS_kirill_power  }
					    check_variable = { RUS_alexei_power = RUS_alexandra_power  }
					}
				}
				load_focus_tree = PB_RUS_alexei_tree
			}
			#
			if = {
				limit = {
					AND = {
					    check_variable = { RUS_alexandra_power > RUS_kirill_power  }
					    check_variable = { RUS_alexandra_power > RUS_alexei_power }
					}
				}
				#load_focus_tree = PB_RUS_alexandra (Need Erwin to add the tree)
			}
			else_if = {
				limit = {
					AND = {
					    check_variable = { RUS_alexandra_power > RUS_kirill_power  }
					    check_variable = { RUS_alexandra_power = RUS_alexei_power }
					}
				}
				#load_focus_tree = PB_RUS_alexandra (Need Erwin to add the tree)
			}
			#
		}
	}
}