TUR_NTR_TCW_setup = {
	set_cosmetic_tag = NTR_Insurgency
	inherit_technology = RTR
	transfer_state = 49
	transfer_state = 346
	transfer_state = 348
	transfer_state = 344
	transfer_state = 345
	add_ideas = NTR_skilled_high_command
	add_ideas = RTR_turkish_only
	348 = {
		set_demilitarized_zone = no
	}
	346 = {
		set_demilitarized_zone = no
	}
	345 = {
		set_demilitarized_zone = no
	}
	348 = {
		set_demilitarized_zone = no
	}
	344 = {
		set_demilitarized_zone = no
	}
	49 = {
		set_demilitarized_zone = no
	}
	if = {
		limit = {
			TUR = {
				check_variable = {
					var = TUR_slump_happiness
					value = 0
					compare = greater_than_or_equals
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 10
					compare = less_than_or_equals
				}
			}
		}
		add_ideas = PB_TUR_turkish_spring1
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 10
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 40
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring2
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 40
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 50
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring3
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 50
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 80
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring4
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 80
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 100
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring5
		}
	}
	load_oob = "NTR_Turkish_Civil_War"
}

TUR_RTR_TCW_setup = {
	set_cosmetic_tag = RTR_civilwar
	transfer_state = 347
	transfer_state = 340
	transfer_state = 822
	transfer_state = 343
	transfer_state = 339
	transfer_state = 823
	transfer_state = 342
	inherit_technology = RTR
	add_ideas = RTR_united_minds_hearts_souls
	add_ideas = RTR_peoples_militia1
	swap_ideas = {
		remove_idea = volunteer_only
		add_idea = service_by_requirement
	}
	swap_ideas = {
		remove_idea = export_focus
		add_idea = limited_exports
	}
	swap_ideas = {
		remove_idea = civilian_economy
		add_idea = war_economy
	}
	347 = {
		set_demilitarized_zone = no
	}
	340 = {
		set_demilitarized_zone = no
	}
	822 = {
		set_demilitarized_zone = no
	}
	343 = {
		set_demilitarized_zone = no
	}
	339 = {
		set_demilitarized_zone = no
	}
	823 = {
		set_demilitarized_zone = no
	}
	342 = {
		set_demilitarized_zone = no
	}
	if = {
		limit = {
			TUR = {
				check_variable = {
					var = TUR_slump_happiness
					value = 0
					compare = greater_than_or_equals
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 10
					compare = less_than_or_equals
				}
			}
		}
		add_ideas = PB_TUR_turkish_spring1
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 10
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 40
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring2
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 40
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 50
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring3
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 50
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 80
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring4
		}
		else_if = {
			limit = {
				TUR = {
					check_variable = {
						var = TUR_slump_happiness
						value = 80
						compare = greater_than
					}
					check_variable = {
						var = TUR_slump_happiness
						value = 100
						compare = less_than_or_equals
					}
				}
			}
			add_ideas = PB_TUR_turkish_spring5
		}
	}
	if = {
		limit = {
			TUR = {
				check_variable = {
					var = TUR_slump_happiness
					value = 30
					compare = less_than_or_equals
				}
			}
		}
		transfer_state = 341
		load_oob = RTR_occupy_istanbul
	}
	if = {
		limit = {
			has_dlc = "Together for Victory"
		}
		set_autonomy = {
			target = KRD
			autonomous_state = autonomy_client_state
			freedom_level = 0.80
		}
		else = {
			puppet = KRD
		}
	}
	KRD = {
		set_popularities = {
			ni = 0
			ds = 8
			rc = 10
			cn = 10
			lb = 0
			an = 0
			ss = 52
			jc = 20
		}
		set_politics = {
			ruling_party = ss
		}
		create_country_leader = {
			name = "Celadet Bedir Khan"
			desc = "POLITICS_MOHAMMED_ZAHIR_SHAH_DESC"
			picture = "Portrait_KRD_Mahmud_Barzanji.dds"
			ideology = SS_VARIANT_01
		}
	}
	load_oob = "RTR_Turkish_Civil_War"
}

TUR_TCW_setup = {
	remove_ideas = PB_TUR_Vestigial_Empire
	remove_ideas = TUR_five_year_plan_preperation_idea
	remove_ideas = TUR_five_year_plan_idea
	remove_ideas = PB_TUR_istanbul_riots
	remove_ideas = TUR_restored_peace_idea
	set_cosmetic_tag = OTT_Loyalists
	load_focus_tree = turkish_civil_war_TUR_focus
	if = {
		limit = {
			has_idea = PB_TUR_istanbul_riots
		}
		remove_ideas = PB_TUR_istanbul_riots
	}
	if = {
		limit = {
			check_variable = {
				var = TUR_slump_happiness
				value = 30
				compare = greater_than
			}
		}
		transfer_state = 341
		load_oob = RTR_occupy_istanbul
	}
	if = {
		limit = {
			check_variable = {
				var = TUR_slump_happiness
				value = 0
				compare = greater_than_or_equals
			}
			check_variable = {
				var = TUR_slump_happiness
				value = 10
				compare = less_than_or_equals
			}
		}
		add_ideas = PB_TUR_desperate_battle1
		else_if = {
			limit = {
				check_variable = {
					var = TUR_slump_happiness
					value = 10
					compare = greater_than
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 40
					compare = less_than_or_equals
				}
			}
			add_ideas = PB_TUR_desperate_battle2
		}
		else_if = {
			limit = {
				check_variable = {
					var = TUR_slump_happiness
					value = 40
					compare = greater_than
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 50
					compare = less_than_or_equals
				}
			}
			add_ideas = PB_TUR_desperate_battle3
		}
		else_if = {
			limit = {
				check_variable = {
					var = TUR_slump_happiness
					value = 50
					compare = greater_than
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 80
					compare = less_than_or_equals
				}
			}
			add_ideas = PB_TUR_desperate_battle4
		}
		else_if = {
			limit = {
				check_variable = {
					var = TUR_slump_happiness
					value = 80
					compare = greater_than
				}
				check_variable = {
					var = TUR_slump_happiness
					value = 100
					compare = less_than_or_equals
				}
			}
			add_ideas = PB_TUR_desperate_battle5
		}
	}
	set_variable = { 
		global.TUR_slump_happiness = TUR_slump_happiness
	}
	NTR = {
		set_variable = {
			TUR_slump_happiness = global.TUR_slump_happiness
		}
	}
	RTR = {
		set_variable = {
			TUR_slump_happiness = global.TUR_slump_happiness
		}
	}
	set_variable = { 
		global.TUR_slump_recovery = TUR_slump_recovery
	}
	NTR = {
		set_variable = {
			TUR_slump_recovery = global.TUR_slump_recovery
		}
	}
	RTR = {
		set_variable = {
			TUR_slump_recovery = global.TUR_slump_recovery
		}
	}
}

TUR_turkish_civil_war_off_a_fucker = {
	if = { # Core remover machine go COOOOOOOOOl
		limit = {
			ROOT = {
				OR = {
					tag = TUR
					tag = RTR
					tag = NTR
				}
			}
		}
		every_state = {
			limit ={
				is_core_of = ROOT
			}
			remove_state_core = PREV
		}
	}
	if = { # if Kurdistan go poof Turkey gets COOOOOOL shite
		limit ={
			ROOT = {
				tag = KRD
			}
			FROM = {
				tag = TUR
			}
		}
		TUR = {
			country_event = {
				id = turkish_civilwar.0
			}
		}
	}
	if = { #capitulate checker
		limit = {
			country_exists = TUR
			NOT = {
				country_exists = NTR
				country_exists = RTR
			}
		}
		clr_global_flag = Turkish_civil_war_occuring
		set_global_flag = TCW_tur_victory
		#load_focus_tree = TUR_post_victory
		
		every_country = {
			news_event = {
				id = PBNews.22
				hours = 5
			}
		}
	}
	if = { #capitulate checker
		limit = {
			country_exists = NTR
			NOT = {
				country_exists = TUR
				country_exists = RTR
			}
		}
		clr_global_flag = Turkish_civil_war_occuring
		#load_focus_tree = NTR_post_victory
		every_country = {
			news_event = {
				id = PBNews.21
				hours = 5
			}
		}
	}
	if = { #capitulate checker
		limit = {
			AND = {
				country_exists = RTR
				NOT = {
					country_exists = TUR
					country_exists = NTR
				}
			}
		}
		clr_global_flag = Turkish_civil_war_occuring
		#load_focus_tree = RTR_post_victory
		every_country = {
			news_event = {
				id = PBNews.73
				hours = 5
			}
		}
		if = {
			limit = {
				NOT = {
					country_exists = KRD
				}
			}
			KRD = {
				set_popularities = {
					ni = 0
					ds = 8
					rc = 10
					cn = 10
					lb = 0
					an = 0
					ss = 52
					jc = 20
				}
				set_politics = {
					ruling_party = ss
				}
				create_country_leader = {
					name = "Celadet Bedir Khan"
					desc = "POLITICS_MOHAMMED_ZAHIR_SHAH_DESC"
					picture = "Portrait_KRD_Mahmud_Barzanji.dds"
					ideology = SS_VARIANT_01
				}
				transfer_state = 350
				transfer_state = 352
				transfer_state = 675 
				transfer_state = 676
				inherit_technology = RTR
				load_oob = "KRD_Turkish_Civil_War"
			}
		}
	}
}