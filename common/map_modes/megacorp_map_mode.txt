scripted_map_modes = {
	PB_megacorp_map_mode = {
		top = {
			type = state
			color = {
				set_temp_variable = { alpha = 1.0 }
				any_of = {
					array = global.corporate_zones
					value = current_corporate_zone
					any_of_scopes = {
						array = global.corporate_zone_states@var:current_corporate_zone
						set_temp_variable = { temp_corporate_zone = current_corporate_zone }
						state = FROM
					}
				}
				find_highest_in_array = {
					array = global.influences@var:temp_corporate_zone
					index = temp_megacorp_idx
				}
				set_temp_variable = { temp_megacorp = token:megacorp_edison_imperial_electric_company }
				add_to_temp_variable = { temp_megacorp = temp_megacorp_idx }
				set_temp_variable = { red = global.megacorp_color_rgb@var:temp_megacorp^0?0.25 }
				set_temp_variable = { green = global.megacorp_color_rgb@var:temp_megacorp^1?0.25 }
				set_temp_variable = { blue = global.megacorp_color_rgb@var:temp_megacorp^2?0.25 }
			}
			thickness = no
			targets = { target_array = global.states }
		}

		bottom = { type = none }

		far_text = none
		near_text = none

		update_daily = no
	}
}