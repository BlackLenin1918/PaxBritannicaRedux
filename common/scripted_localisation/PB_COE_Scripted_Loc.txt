defined_text = { #COE TOPIC
    name = Coe_get_topic
    
    text = { #FRANCE
        trigger = {
          has_global_flag = PB_COE_TOPIC_FRANCE
        }
        localization_key = Coe_get_topic_France
    }

    text = { #SPAIN
        trigger = {
          has_global_flag = PB_COE_TOPIC_SPAIN
        }
        localization_key = Coe_get_topic_Spain
    }

    text = { #ITALY
        trigger = {
          has_global_flag = PB_COE_TOPIC_ITALY
        }
        localization_key = Coe_get_topic_Italy
    }

    text = { #BALKAN
        trigger = {
          has_global_flag = PB_COE_TOPIC_BALKAN
        }
        localization_key = Coe_get_topic_Balkan
    }
}

defined_text = { #COE PROPOSALS
    name = Coe_get_proposal
    
    text = { #
        trigger = {
          has_global_flag = PB_COE_STARTED
	  NOT = { 
		has_global_flag = PB_COE_PROPOSAL_DEXTER
          	has_global_flag = PB_COE_PROPOSAL_SCHWARZ
         	has_global_flag = PB_COE_PROPOSAL_FRANCIA
		}
        }
        localization_key = Coe_no_current_proposal
    }

    text = { #DEXTER PLAN
        trigger = {
          has_global_flag = PB_COE_PROPOSAL_DEXTER
        }
        localization_key = Coe_get_proposal_dexter
    }

    text = { #SCHWARZ PLAN
        trigger = {
          has_global_flag = PB_COE_PROPOSAL_SCHWARZ
        }
        localization_key = Coe_get_proposal_schwarz
    }

    text = { #FRANCIA PLAN
        trigger = {
          has_global_flag = PB_COE_PROPOSAL_FRANCIA
        }
        localization_key = Coe_get_proposal_francia
    }

}

defined_text = {
    name = Coe_get_changes1

    text = {
        trigger = {
            #do some fuckery here!
            set_temp_variable = { temp_var_checked = array_name^current_index } #should be 0 
            add_to_temp_variable = { current_index = 1 }

            check_variable = { temp_var_checked = 0 } # basically, if this is 0 that means nothing is stored in the array at this index
        }

        localization_key = ""
    }

    text = {
        trigger = {
            check_variable = { temp_var_checked = 1 } 
        }
        localization_key = Coe_get_changes_lorraine
    }

    text = {
        trigger = {
            check_variable = { temp_var_checked = 2 } 
        }
        localization_key = Coe_get_changes_demilitarisation
    }

    text = {
        trigger = {
            check_variable = { temp_var_checked = 3 } 
        }
        localization_key = Coe_get_changes_israel
    }
}

defined_text = { #Italy is an ally, actually
    name = if_italy_is_ally
    
    text = { 
        trigger = {
        NOT = { ITA = { is_in_faction_with = ENG } }
	ITA = { is_subject = yes }
        }
        localization_key = ""
    }

    text = { 
        trigger = {
	ITA = { is_in_faction_with = ENG }
	ITA = { is_subject = no }
        }
        localization_key = Coe_italy_is_ally
    }

}

defined_text = { #Current proposal isn't German
    name = get_chance_variable_ger
    
    text = { 
        trigger = {
         NOT = { 
	OR = {
  	has_global_flag = PB_COE_PROPOSAL_SCHWARZ
	has_global_flag = PB_COE_PROPOSAL_FRANCIA
	}
	 }
        }
        localization_key = Coe_Germany_votes
    }

    text = { 
        trigger = {
	OR = {
  	has_global_flag = PB_COE_PROPOSAL_SCHWARZ
	has_global_flag = PB_COE_PROPOSAL_FRANCIA
	}
        }
        localization_key = Coe_proposed_plan
    }

}

defined_text = { #Current proposal isn't English
    name = get_chance_variable_eng
    
    text = { 
        trigger = {
        NOT = { 
	OR = {
  	has_global_flag = PB_COE_PROPOSAL_DEXTER
	}
	}
        }
        localization_key = Coe_England_votes 
    }

    text = { 
        trigger = {
  	has_global_flag = PB_COE_PROPOSAL_DEXTER
        }
        localization_key = Coe_proposed_plan
    }

}