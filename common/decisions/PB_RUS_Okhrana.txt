PB_RUS_Okhrana = {

	RUS_Operation_Azalea_Mission = {

		icon = generic_civil_support

		available = {
			always = no
		}

		days_mission_timeout = 7

		activation = {
			has_completed_focus = PB_RUS_Operation_Azalea
		}

		cancel_trigger = {
			OR = {
				PGA = {
					exists = no
					is_subject = no
				}			
			}
		}

		highlight_states = {
 			highlight_state_targets = {
				state = 88
			} 
		}

		visible = {
			
		}

		is_good = yes

		timeout_effect = {
			if = {
				limit = {
					divisions_in_state = {
						state = 88
						size > 3
					}					
				}
				RUS = {
					annex_country = {
						target = PGA
						transfer_troops = yes
					}		
					country_event = {
						id = Russian_Politics.12
					}		
				}
				news_event = {
					id = PBNews.286
					days = 1
				}
			}

			if = {
				limit = {
					divisions_in_state = {
						state = 88
						size < 3
					}					
				}
				RUS = {
					end_puppet = PGA

					declare_war_on = {
						target = PGA
						type = annex_everything
					}

					country_event = {
						id = Russian_Politics.13
					}	

					PB_RUS_Increase_Polish_Resistance_Large = yes
				}

				PGA = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = PGA_Revolt
				}

				news_event = {
					id = PBNews.287
					days = 1
				}

				hidden_effect = {
					PGA = {
						remove_ideas = PB_PGA_Galician_Occupation
						create_country_leader = {
							name = "Franciszek Jóźwiak"
							desc = "PB_NO_DESC"
							picture = "Portrait_PGA_Jozwiak.dds"
							ideology = JC_VARIANT_01
						}
						set_politics = {
							ruling_party = jc
							elections_allowed = no
						}

						add_popularity = {
							ideology = jc
							popularity = 0.4
						}

						add_popularity = {
							ideology = ss
							popularity = 0.2
						}
						PGA = {
							set_nationality = {
								target_country = RUS
								character = mikhail_drozdovsky
							}
						}
					}
				}
			}
		}
	}

	PB_Okhrana_Fire_National_Awakening = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			PB_RUS_Fire_National_Awakening_Land = yes
			PB_RUS_Set_Uprising_Tag_Cosmetics = yes

			every_country = {
				set_temp_variable = { superevent_temp = token:second_national_awakening }
				PB_Fire_Super_Event = yes
			}
		}
	}

	PB_Okhrana_kill_polska = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Eliminate_Polish_Resistance_Leader = yes
		}
	}

	PB_Okhrana_kill_ukraine = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Eliminate_Ukrainian_Resistance_Leader = yes
		}
	}

	PB_Okhrana_bal_setup = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			clr_country_flag = RUS_OKH_No_Central_Baltic_Leadership
			clr_country_flag = RUS_OKH_Sprogis_Subcommander1
			set_country_flag = RUS_OKH_Lobe_Subcommander1
			set_country_flag = RUS_OKH_Sprogis_Leads_Resistance
		}
	}

	PB_Okhrana_kill_bal = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Eliminate_Baltic_Resistance_Leader = yes
		}
	}

	PB_Okhrana_kill_fin = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Eliminate_Finnish_Resistance_Leader = yes
		}
	}

	PB_Okhrana_Timed_Decision2 = {
		available = {
			hidden_trigger = {
				always = no
			}
		}

		activation = {   
			has_completed_focus = PB_RUS_Second_Time_of_Troubles                      
			OR = {
				check_variable = {
					RUS_Polish_Resistance_Power > 50
				}
	
				check_variable = {
					RUS_Polish_Resistance_Power > 50
				}
	
				check_variable = {
					RUS_Baltic_Resistance_Power > 50
				}
	
				check_variable = {
					RUS_Ukraine_Resistance_Power > 50
				}
	
				check_variable = {
					RUS_Finnish_Resistance_Power > 50
				}
			}
		}

		cancel_trigger = {
			AND = {
				check_variable = {
					RUS_Polish_Resistance_Power < 50
				}
	
				check_variable = {
					RUS_Polish_Resistance_Power < 50
				}
	
				check_variable = {
					RUS_Baltic_Resistance_Power < 50
				}
	
				check_variable = {
					RUS_Ukraine_Resistance_Power < 50
				}
	
				check_variable = {
					RUS_Finnish_Resistance_Power < 50
				}
			}
		
		}

		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = no
		days_mission_timeout = 35
		fire_only_once = no
		days_remove = 17
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			if = {
				limit = {
					RUS = {
					is_core_of = FFI
					is_core_of = UKR
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					}
				}
				random_owned_state = {
					damage_building = {
						type = arms_factory
						damage = 1
					}
				}
			}
			activate_mission = PB_Okhrana_Timed_Decision2
		}
	}

	PB_Okhrana_Timed_Decision = {
		available = {
			NOT = {
				original_tag = RUS
			}
		}

		activation = {                         
			original_tag = RUS
			has_completed_focus = PB_RUS_Second_Time_of_Troubles
		}

		cancel_trigger = {
			NOT = {
				original_tag = RUS
			}
		}

		activation = {
			original_tag = RUS
		}
		available = {
			always = no
		}
		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = no
		days_mission_timeout = 26
		days_remove = 17
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			random_list = {
				20 = {
					PB_RUS_Increase_Polish_Resistance = yes
				}
				20 = {
					PB_RUS_Increase_Finnish_Resistance = yes
				}
				20 = {
					PB_RUS_Increase_Ukrainian_Resistance = yes
				}
				20 = {
					PB_RUS_Increase_Baltic_Resistance = yes
				}
				10 = {
					PB_RUS_Increase_Polish_Resistance_Large  = yes
				}
				10 = {
					PB_RUS_Increase_Finnish_Resistance_Large =  yes
				}
				10 = {
					PB_RUS_Increase_Ukrainian_Resistance_Large =  yes
				}
				10 = {
					PB_RUS_Increase_Baltic_Resistance_Large =  yes
				}
			}
			activate_mission = PB_Okhrana_Timed_Decision
		}
	}

	PB_Okhrana_Timed_Decision3 = {
		available = {
			NOT = {
				original_tag = RUS
			}
		}

		activation = {      
			has_completed_focus = PB_RUS_Second_Time_of_Troubles                   
			original_tag = RUS
		}

		cancel_trigger = {
			NOT = {
				original_tag = RUS
			}
		}

		activation = {
			original_tag = RUS
		}
		available = {
			always = no
		}
		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = yes
		days_mission_timeout = 30
		days_remove = 17
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			add_to_variable = {
				var = RUS_Okhrana_Resources
				value = RUS_Okhrana_Monthly_Resources
			}

			clamp_variable = {
				var = RUS_Okhrana_Resources
				min = 0
				max = 200
			}

			activate_mission = PB_Okhrana_Timed_Decision3
		}
	}

	PB_Expand_Okhrana_Warsaw = {

		icon = generic_decision

		cost = 25

		on_map_mode = map_and_decisions_view
		state_target = yes
		targets = { 10 }

        modifier = {
           	civilian_factory_use = 2
        }

		fire_only_once = yes

		days_remove = 25

		available = {
            custom_trigger_tooltip = {
                tooltip = RUS_Okhrana_Resources_Sixty_tt
				RUS = {
					check_variable = {
						RUS_Okhrana_Resources > 59
					}					
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Okhrana_Resource_Monthly_Increase = yes
			set_country_flag = RUS_Warsaw_Department_Expanded
			PB_RUS_Okhrana_Resource_Expense_Large = yes
		}
	}

	PB_Expand_Okhrana_Kiev = {

		icon = generic_decision

		cost = 25

		on_map_mode = map_and_decisions_view
		state_target = yes
		targets = { 202 }

        modifier = {
           	civilian_factory_use = 2
        }

		days_remove = 25

		fire_only_once = yes

		available = {
            custom_trigger_tooltip = {
                tooltip = RUS_Okhrana_Resources_Sixty_tt
				RUS = {
					check_variable = {
						RUS_Okhrana_Resources > 59
					}					
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Okhrana_Resource_Monthly_Increase = yes
			set_country_flag = RUS_Kiev_Department_Expanded
			PB_RUS_Okhrana_Resource_Expense_Large = yes
		}
	}

	PB_Expand_Okhrana_Riga = {

		icon = generic_decision

		cost = 25

		on_map_mode = map_and_decisions_view
		state_target = yes
		targets = { 12 }

        modifier = {
           	civilian_factory_use = 2
        }

		days_remove = 25

		fire_only_once = yes

		available = {
            custom_trigger_tooltip = {
                tooltip = RUS_Okhrana_Resources_Sixty_tt
				RUS = {
					check_variable = {
						RUS_Okhrana_Resources > 59
					}					
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Okhrana_Resource_Monthly_Increase = yes
			set_country_flag = RUS_Riga_Department_Expanded
			PB_RUS_Okhrana_Resource_Expense_Large = yes
		}
	}

	PB_Expand_Okhrana_Helsinki = {

		icon = generic_decision

		cost = 25

		on_map_mode = map_and_decisions_view
		state_target = yes
		targets = { 111 }

        modifier = {
           	civilian_factory_use = 2
        }

		days_remove = 25

		fire_only_once = yes

		available = {
            custom_trigger_tooltip = {
                tooltip = RUS_Okhrana_Resources_Sixty_tt
				RUS = {
					check_variable = {
						RUS_Okhrana_Resources > 59
					}					
				}
			}
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Okhrana_Resource_Monthly_Increase = yes
			set_country_flag = RUS_Helsinki_Department_Expanded
			PB_RUS_Okhrana_Resource_Expense_Large = yes
		}
	}

	PB_Okhrana_Test_Decision = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Decrease_Finnish_Resistance_Large = yes
			PB_RUS_Decrease_Finnish_Resistance = yes
		}
	}

	PB_Okhrana_Test_Decision2 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Increase_Polish_Resistance = yes
			PB_RUS_Increase_Polish_Resistance_Large = yes
		}
	}
	
	PB_Okhrana_Test_Decision3 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Decrease_Ukrainian_Resistance = yes
			PB_RUS_Decrease_Ukrainian_Resistance_Large = yes
		}
	}

	PB_Okhrana_Test_Decision4 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Increase_Finnish_Resistance = yes
			PB_RUS_Increase_Finnish_Resistance_Large = yes
		}
	}

	PB_Okhrana_Test_Decision7 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Increase_Ukrainian_Resistance = yes
			PB_RUS_Increase_Ukrainian_Resistance_Large = yes
		}
	}

	PB_Okhrana_Test_Decision5 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Decrease_Polish_Resistance = yes
			PB_RUS_Decrease_Baltic_Resistance_Large = yes
		}
	}

	PB_Okhrana_Test_Decision6 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Increase_Baltic_Resistance = yes
			PB_RUS_Increase_Baltic_Resistance_Large = yes
		}
	}

	PB_Okhrana_Test_Decision8 = {

		icon = generic_decision

		cost = 0

		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			PB_RUS_Decrease_Baltic_Resistance = yes
			PB_RUS_Decrease_Baltic_Resistance_Large = yes
		}
	}
}
