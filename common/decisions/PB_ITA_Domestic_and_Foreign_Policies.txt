PB_ITA_Vanzettis_Revolution = {

	PB_Days_untill_uprising = {

		icon = revolt

		allowed = {
			tag = ITA
		}
		available = { has_country_flag = ITA_CIVIL_WAR_STARTS  }
		selectable_mission = no
		activation = {
			has_completed_focus = PB_ITA_Mobilize_the_People
		}

		is_good = no 
		days_mission_timeout = 100

		timeout_effect = {
		country_event = { id = italy.100 days = 0 }
		}
	}

	PB_Organize_Revolutionaries_in_State = {

		icon = generic_nationalism

		state_target = yes
		visible = { FROM = { is_owned_by = ITA } }
		target_trigger = { 
			FROM = { NOT = { has_state_flag = PB_ITA_ANARCHISTS } } 
			random_owned_state = { is_owned_by = ITA }
		}
		on_map_mode = map_only
		available = { NOT = { has_country_flag = ITA_can_only_work_on_one_state has_country_flag = ITA_CIVIL_WAR_STARTS } } 
		fire_only_once = yes
		
		cost = 10

		days_remove = 15

		complete_effect = {
		set_country_flag = ITA_can_only_work_on_one_state 
		}
		
		remove_effect = {
		FROM = { set_state_flag = PB_ITA_ANARCHISTS custom_effect_tooltip = PB_ITA_ANARCHISTS }
		clr_country_flag = ITA_can_only_work_on_one_state 
		}
	}
}


PB_ITA_Economic_Policy = {

	PB_ITA_Kickstart_the_War_Economy = {

		icon = generic_industry
		
		cost = 0

		ai_will_do = {
			factor = 150
		}

		available = {
		is_subject = no
		has_war = yes
		any_enemy_country = { is_major = yes }
		}

		days_remove = 100

		fire_only_once = yes

		remove_effect = {
		custom_effect_tooltip = ITA_MIL_FOR_EVERY_LEVEL_OF_INDUSTRY
		if = { 
		limit = { has_idea = PB_Agrarianism }
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		}
		if = { 
		limit = { has_idea = PB_Semi_Industrialized }
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		}
		if = { 
		limit = { has_idea = PB_Industrialized }
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		}
		if = { 
		limit = { has_idea = PB_Post_Industrial }
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		random_owned_state =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}
		}
	}
}

	PB_ITA_Modernize_Milan = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			controls_state = 159
			has_completed_focus = PB_ITA_Expand_Civilian_Industry
		}

		days_remove = 70

		fire_only_once = yes

		remove_effect = {
		159 =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes

		}	
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

	PB_ITA_Modernize_Venice = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			controls_state = 160 
			has_completed_focus = PB_ITA_Expand_Civilian_Industry
		}

		days_remove = 70

		fire_only_once = yes

		remove_effect = {
		160 =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes

		}	
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
		}
	}
}

	PB_ITA_Modernize_Turin = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			controls_state = 158
			has_completed_focus = PB_ITA_Expand_Civilian_Industry
		}

		days_remove = 70

		fire_only_once = yes

		remove_effect = {
		158 =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes

		}	
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
		}
	}
}

	PB_ITA_Modernize_Pisa = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			controls_state = 162
			has_completed_focus = PB_ITA_Expand_Civilian_Industry
		}

		days_remove = 70

		fire_only_once = yes

		remove_effect = {
		162 =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes

		}	
		add_building_construction = {
			type = infrastructure
			level = 1
			instant_build = yes
		}
		}
	}
}

	PB_ITA_Expand_Genoa_Dockyards = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 110
		}

		available = {
			controls_state = 158
			has_completed_focus = PB_ITA_The_Genoa_Docks
		}

		days_remove = 95

		fire_only_once = yes

		remove_effect = {
		158 =  {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes

		}	
		}
	}
}

	PB_ITA_Expand_Naples_Dockyards = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 110
		}

		available = {
			controls_state = 117
			has_completed_focus = PB_ITA_The_Genoa_Docks
		}

		days_remove = 120

		fire_only_once = yes

		remove_effect = {
		117 =  {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes

		}	
		}
	}
}

	PB_ITA_Expand_Palermo_Dockyards = {

		icon = generic_construction
		
		cost = 75

		ai_will_do = {
			factor = 110
		}

		available = {
			controls_state = 115
			has_completed_focus = PB_ITA_The_Genoa_Docks
		}

		days_remove = 120

		fire_only_once = yes

		remove_effect = {
		115 =  {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes

		}	
		}
	}
}
}

PB_ITA_Foreign_and_Domestic_Policy = {

	PB_Second_Rome_Declaration = {

		icon = generic_nationalism
		
		cost = 15

		ai_will_do = {
			factor = 100
		}

		available = {
			ITA = {
				has_war_with = FRA
			}
			ITA = { surrender_progress > 0.5 }
			ITA = { surrender_progress < 0.75 }
			ITA = { NOT = { has_capitulated = yes } }
			ITA = { is_subject = no }
		}

		days_remove = 10

		fire_only_once = yes

		remove_effect = {
			ITA = {
				country_event = {
					id = italyforeign.1
					days = 1
				}
			}
			custom_effect_tooltip = ITA_DECLARE_WAR_ON_ENG
		}
	}

	PB_join_the_Imperial_Powers = {

		icon = generic_operation
		
		cost = 50

		ai_will_do = {
			factor = 100
		}

		available = {
			ENG = { is_faction_leader = yes }
			ITA = { is_in_faction = no }
			ITA = { has_war = no }
			ITA = { NOT = { has_capitulated = yes } }
			ITA = { is_subject = no }
		}

		days_remove = 5

		fire_only_once = yes

		remove_effect = {
			ENG = {
				country_event = {
					id = italyforeign.3
					days = 1
				}
			}
		}
	}

	PB_Repeal_the_Lateran_Treaties = {

		icon = oppression
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			VAT = { is_subject = no }
			ITA = { NOT = { has_capitulated = yes } }
			ITA = { is_subject = no }
			ITA = { has_government = jc }
		}

		days_remove = 10

		fire_only_once = yes

		remove_effect = {
		VAT = { country_event = { id = italyforeign.5 days = 1 } }
	diplomatic_relation = {
    country = VAT
    relation = guarantee
    active = no
}
		}
	}

	PB_Occupy_the_Gambling_Den = {

		icon = oppression
		
		cost = 75

		ai_will_do = {
			factor = 100
		}

		available = {
			MNC = { is_subject = no }
			ITA = { NOT = { has_capitulated = yes } }
			ITA = { is_subject = no }
			ITA = { has_government = jc }
		}

		days_remove = 10

		fire_only_once = yes

		remove_effect = {
		GER = { country_event = { id = italyforeign.8 days = 1 } }
	diplomatic_relation = {
    country = MNC
    relation = guarantee
    active = no
}
		}
	}
}