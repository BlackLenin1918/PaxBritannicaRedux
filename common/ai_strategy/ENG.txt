France_is_up_to_some_sus_shit = {
	enable = {
		original_tag = ENG
		is_in_faction_with = ENG
		FRA = {
			has_completed_focus = PB_FRA_Greater_France
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = prepare_for_war
		id = FRA	
		value = 200
	}	

	ai_strategy = {
		type = prepare_for_war
		id = RUS	
		value = 200
	}	
}

ENG_wants_civ = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		date < 1936.1.1
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 35
	}
}

ENG_wants_mils = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		date > 1936.1.1
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 40
	}
}

AME_assist_ENG = {
	allowed = { 
		original_tag = AME 
	}
	enable = {
		ENG = {
			has_war_with = FRA
		}
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = europe
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = africa
	}
}

ENG_invades_France_and_Italy = {
	allowed = { 
		original_tag = ENG 
		original_tag = AME 
		is_in_faction_with = ENG
	}
	enable = {
		FRA = {
			has_war_with = ENG
		}
		date > 1939.3.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "FRA"
		value = 500
	}

	ai_strategy = {
		type = invade
		id = "IST"
		value = 500
	}
}

ENG_trying_to_save_Germany_or_Scandi_is_a_death_sentence = {
	allowed = { 
		original_tag = ENG 
		is_in_faction_with = ENG
		NOT = {
			OR = {
				original_tag = GER 
				original_tag = HOL 
				original_tag = SCH 
				original_tag = DEN 
				original_tag = NOR 
				original_tag = SWE 
			}
		}
	}
	enable = {
		FRA = {
			has_war_with = GER
			has_war_with = ENG
		}
	}

	abort = {
		date > 1939.3.1
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GER"
		value = 70
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HOL"
		value = 50
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SCH"
		value = 50
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "DEN"
		value = 50
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "NOR"
		value = 50
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SWE"
		value = 50
	}
}

ENG_unit_production = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = 4
	}
	
	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 0
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 2
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 1
	}

	ai_strategy = {
		type = role_ratio
		id = cavalry 
		value = -100
	}

	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 20 
	}

	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = 20 
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 20 
	}

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 80
	}
	
	#Air unit factors
	ai_strategy = {
		type = unit_ratio
		id = fighter
		value = 100
	}
	
	ai_strategy = {
		type = unit_ratio
		id = cas
		value = 60 
	}
	
	ai_strategy = {
		type = unit_ratio
		id = tactical_bomber
		value = 40
	}
	
	ai_strategy = {
		type = unit_ratio
		id = strategic_bomber
		value = 20
	}
	
	ai_strategy = {
		type = unit_ratio
		id = naval_bomber
		value = 30
	}
	
	
	# Naval unit factors
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 20
	}

	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 30
	}

	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 35
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 40
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 175
	}

	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 65
	}

	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = 80
	}

	ai_strategy = {
		type = equipment_production_factor
		id = naval_bomber
		value = 120
	}

	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = 200
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 50
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_tank
		value = 20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_air
		value = 50
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = artillery
		value = 35
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 40
	} 
	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 30
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = artillery
		value = 3
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 4
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = strat_bomber_equipment
		value = 10
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = support_equipment
		value = 35
	}
}


# early invasions set to be less than later on, allows the AI to not let the invasion army to be wiped
careful_with_early_invasions = {
	enable = {
		date < 1938.1.1

		if = {
			limit = { NOT = { has_dlc = "Man the Guns"} }
			NOT = { has_tech = landing_craft }
		}
		else = {
			NOT = { has_tech = mtg_landing_craft }
		}
		
		OR = {
			is_in_faction_with = ENG 
			tag = ENG
		}

		NOT = {
			FRA = { 
				has_war_with = RUS
			}
		}
	}
	abort = {
		OR = {
			has_tech = landing_craft
			has_tech = mtg_landing_craft
		}
		OR = {
			FRA = { 
				has_war_with = RUS 
			}
			date > 1938.1.1
		}
	}

	ai_strategy = {
		type = invade
		id = "ITA"			
		value = -100
	}

	ai_strategy = {
		type = invade
		id = "FRA"			
		value = -300
	}

	ai_strategy = {
		type = invade
		id = "RUS"			
		value = -300
	}

	ai_strategy = {
		type = invade
		id = "SPR"
		value = -300
	}
	
	ai_strategy = {
		type = invade
		id = "POR"
		value = -300
	}
	
}	


# early invasions set to be less than later on, allows the AI to not let the invasion army to be wiped
protect_scandinavian_interests = {
	enable = {
		GER = { has_capitulated = yes } 
		GER = { has_war_with = FRA }
		has_war_with = FRA
		tag = ENG
	}
	abort = {
		DEN = { has_capitulated = yes } 
		NOR = { surrender_progress > 0.5 }		
	}

	ai_strategy = {
		type = protect
		id = "NOR"			
		value = 400
	}

	ai_strategy = {
		type = protect
		id = "DEN"			
		value = 100
	}

	ai_strategy = {
		type = area_priority
		id = scandinavia
		value = 250
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 16
		value = -200
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 174
		value = -300
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 173
		value = -100
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 207
		value = -100
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 42
		value = 500
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 47
		value = 500
	}
}	

# Ireland got invaded or has given access to a British enemy
emerald_isles_crumble = {
	enable = {
		tag = ENG
		OR = { 
		IRE = { surrender_progress > 0.05 }
		any_enemy_country = {
		controls_state = 135 
		}
		any_enemy_country = {
		controls_state = 134
		}
		any_enemy_country = {
		controls_state = 113
		}	
		any_enemy_country = {
		IRE = { is_subject_of = ROOT }
		}	
		any_enemy_country = {
		IRE = { is_in_faction_with = ROOT }
		}	
		}
	}
	abort = {
		OR = { 
		IRE = { has_capitulated = yes } 
		IRE = { surrender_progress > 0.5 }
		ENG = { surrender_progress > 0.5 }	
		}	
	}

	ai_strategy = {
		type = protect
		id = "IRE"			
		value = 200
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 43
		value = -600
	}

	ai_strategy = {
		type = invade
		id = "IRE"
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "FRA"
		value = -200
	}

	ai_strategy = {
		type = invade
		id = "RUS"
		value = -200
	}


}	

ENG_lifeline_of_the_empire = {
	allowed = { original_tag = ENG }
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = area_priority
		id = suez
		value = 40 # this is extra on top of 50 base
	}
}