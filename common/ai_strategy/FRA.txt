FRA_invasion_buffer = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		FRA = {
			has_war_with = ENG
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		states = {
			15
			29
			30
			21
			19
			14
		}
		ratio = 0.07
		area = normandy_landing_zone
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}
}

FRA_Invade_UK_after_Germany = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		date < 1939.1.1
		GER = {
			has_capitulated = yes
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }

		value = 50
	}

	ai_strategy = {
		type = front_control

		tag = ENG

		ratio = 0.5

		priority = 100
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
}

FRA_Make_Great_War_Mechs_Divisions = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_great_war
		ai_wants_divisions > 24
	}
	
	abort = {
		OR = {
			has_tech = tech_automat_medium_1
			has_tech = tech_automat_light_1
			has_tech = tech_automat_heavy_1
		}
	}

	ai_strategy = {
		type = role_ratio
		id = automats
		value = 9
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = gw_automat_0
		value = 5
	}
}

FRA_Make_Light_Mechs_Divisions_1 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_light_1
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_light_automat
		OR = {
			has_tech = tech_automat_light_2
			has_tech = tech_automat_light_3
		}
	}

	ai_strategy = {
		type = role_ratio
		id = cat_light_automat
		value = 2
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = gw_automat_1
		value = 5
	}
}

FRA_Make_Light_Mechs_Divisions_1 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_light_2
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_light_automat
		has_tech = tech_automat_light_3
	}

	ai_strategy = {
		type = role_ratio
		id = cat_light_automat
		value = 2
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = gw_automat_2
		value = 5
	}
}

FRA_Make_Light_Mechs_Divisions_3 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_light_3
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_light_automat
	}

	ai_strategy = {
		type = role_ratio
		id = cat_light_automat
		value = 2
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = gw_automat_3
		value = 5
	}
}

FRA_Make_Med_Mechs_Divisions_1 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_medium_1
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_medium_automat
		OR = {
			has_tech = tech_automat_medium_2
			has_tech = tech_automat_medium_3
		}
	}

	ai_strategy = {
		type = role_ratio
		id = cat_medium_automat
		value = 15
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = tripod_automat_0
		value = 35
	}
}

FRA_Make_Med_Mechs_Divisions_2 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_medium_2
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_medium_automat
		has_tech = tech_automat_medium_3
	}

	ai_strategy = {
		type = role_ratio
		id = cat_medium_automat
		value = 15
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = tripod_automat_1
		value = 35
	}
}

FRA_Make_Med_Mechs_Divisions_3 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_medium_3
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_medium_automat
	}

	ai_strategy = {
		type = role_ratio
		id = cat_medium_automat
		value = 15
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = tripod_automat_2
		value = 35
	}
}

FRA_Make_Heavy_Mechs_Divisions_1 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_heavy_1
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_heavy_automat
		OR = {
			has_tech = tech_automat_heavy_2
			has_tech = tech_automat_heavy_3
		}
	}

	ai_strategy = {
		type = role_ratio
		id = cat_heavy_automat
		value = 5
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = quadropod_automat_0
		value = 5
	}
}

FRA_Make_Heavy_Mechs_Divisions_2 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_heavy_2
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_heavy_automat
		has_tech = tech_automat_heavy_3
	}

	ai_strategy = {
		type = role_ratio
		id = cat_heavy_automat
		value = 5
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = quadropod_automat_1
		value = 5
	}
}

FRA_Make_Heavy_Mechs_Divisions_3 = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		has_tech = tech_automat_heavy_3
		ai_wants_divisions > 24
	}
	
	abort = {
		has_template_ai_majority_unit = cat_heavy_automat
	}

	ai_strategy = {
		type = role_ratio
		id = cat_heavy_automat
		value = 5
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = quadropod_automat_2
		value = 5
	}
}

FRA_Make_Tank_Divisions = {
	allowed = {
		original_tag = FRA
	}

	enable = {
		ai_wants_divisions > 24
	}
		
	abort = {
		ai_wants_divisions < 25
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 9
	}
}


FRA_unit_production = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}
	
	ai_strategy = {
		type = role_ratio
		id = automat
		value = 65
	}

	ai_strategy = {
		type = role_ratio
		id = garrison
		value = 4
	}
	
	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 1
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 2
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 1
	}

	ai_strategy = {
		type = role_ratio
		id = cavalry 
		value = -100
	}

	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 20 
	}

	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = 20 
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 40 
	}

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 70
	}
	
	#Air unit factors
	ai_strategy = {
		type = unit_ratio
		id = fighter
		value = 100
	}
	
	ai_strategy = {
		type = unit_ratio
		id = cas
		value = 60 
	}
	
	ai_strategy = {
		type = unit_ratio
		id = tactical_bomber
		value = 40
	}
	
	ai_strategy = {
		type = unit_ratio
		id = strategic_bomber
		value = 20
	}
	
	ai_strategy = {
		type = unit_ratio
		id = naval_bomber
		value = 30
	}
	
	
	# Naval unit factors
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 15
	}

	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 60
	}

	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 30
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 40
	}

	#air
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 175
	}

	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 65
	}

	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = 80
	}

	ai_strategy = {
		type = equipment_production_factor
		id = naval_bomber
		value = 120
	}

	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = 200
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 50
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_tank
		value = 20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_air
		value = 50
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = artillery
		value = 35
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 40
	} 
	ai_strategy = {
		type = equipment_production_factor
		id = motorized
		value = 30
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = artillery
		value = 3
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 4
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = strat_bomber_equipment
		value = 10
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = support_equipment
		value = 35
	}
}	

# 
FRA_british_invasions_post_germany_but_before_russia = {
	enable = {
		date < 1938.1.1

		if = {
			limit = { NOT = { has_dlc = "Man the Guns"} }
			NOT = { has_tech = landing_craft }
		}
		else = {
			NOT = { has_tech = mtg_landing_craft }
		}
		
		OR = {
			is_in_faction_with = FRA
			tag = FRA
		}

		GER = { has_capitulated = yes }

		NOT = {
			FRA = { 
				has_war_with = RUS
			}
		}
	}
	abort = {
		OR = {
			has_tech = landing_craft
			has_tech = mtg_landing_craft
		}
		OR = {
			FRA = { 
				has_war_with = RUS 
			}
			date > 1938.1.1
		}
	}

	ai_strategy = {
		type = invade
		id = "ENG"			
		value = 300
	}

	ai_strategy = {
		type = invade
		id = "IRE"			
		value = 300
	}	

	ai_strategy = {
		type = invade
		id = "NIR"			
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "ICA"			
		value = 300
	}
}	
