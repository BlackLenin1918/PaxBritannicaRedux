##################
# GENERIC WAR OUTCOME EVENTS
##################

add_namespace = waroutcome

country_event = {		#WAR OUTCOME - MALAY DEFEAT
	id = waroutcome.1
	desc = waroutcome.2.d
	picture = GFX_report_PB_Military_Operation

	is_triggered_only = yes

	option = { #NOT APPLICABLE
		name = waroutcome.1.a

		ai_chance = {
			factor = 80
		}

		MAL = {
			remove_state_core = 792

			clr_country_flag = PB_WAR_SYSTEM_Malaysian_Insurgency
		}

		KAL = {
			clr_country_flag = PB_WAR_SYSTEM_Malaysian_Insurgency
		}
	}
}

country_event = {		#Malay Independence War - Malay Victory
	id = waroutcome.2
	title = waroutcome.2.t
	desc = waroutcome.2.d
	picture = GFX_report_PB_Military_Operation

	is_triggered_only = yes

	option = { #NOT APPLICABLE
		name = waroutcome.2.a

		ai_chance = {
			factor = 80
		}

		MAL = {
			drop_cosmetic_tag = yes 

			clr_country_flag = PB_WAR_SYSTEM_Malaysian_Insurgency
		}

		KAL = {
			clr_country_flag = PB_WAR_SYSTEM_Malaysian_Insurgency
		}
	}
}

country_event = {		#Slovakian Revolution - Defeat
	id = waroutcome.3
	title = waroutcome.3.t
	desc = waroutcome.3.d
	picture = GFX_report_PB_Military_Operation

	is_triggered_only = yes

	option = { #NOT APPLICABLE
		name = waroutcome.3.a

		ai_chance = {
			factor = 80
		}

		SLO = {
			drop_cosmetic_tag = yes 

			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}

		HUN = {
			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}

		CRO = {
			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}
	}
}

country_event = {		#Slovakian Revolution - Victory
	id = waroutcome.4
	title = waroutcome.4.t
	desc = waroutcome.4.d
	picture = GFX_report_PB_Military_Operation

	is_triggered_only = yes

	option = { #NOT APPLICABLE
		name = waroutcome.4.a

		ai_chance = {
			factor = 80
		}

		SLO = {
			drop_cosmetic_tag = yes 

			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}

		HUN = {
			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}

		CRO = {
			clr_country_flag = PB_WAR_SYSTEM_Slovakian_Revolution
		}
	}
}

country_event = {		#Second Great War Conclusion - Future of Europe - France
	id = waroutcome.5
	title = waroutcome.5.t
	desc = waroutcome.5.d
	picture = GFX_report_PB_Military_Operation

	is_triggered_only = yes

	option = { #Restore Pre-War Borders
		name = waroutcome.5.a

		ai_chance = {
			factor = 10
		}

		FRA = {
			remove_state_core = 34
			remove_state_core = 14
			remove_state_core = 6
			remove_state_core = 35
			remove_state_core = 7
			remove_state_core = 36
		}
	}

	option = { #Partial Dismantling
		name = waroutcome.5.b

		ai_chance = {
			factor = 80
		}

		FRA = {
			remove_state_core = 34
			remove_state_core = 14
			remove_state_core = 6
			remove_state_core = 35
			remove_state_core = 7
			remove_state_core = 36
		}

		OCT = {
			add_state_core = 31
			add_state_core = 557
			add_state_core = 22
			add_state_core = 26
			add_state_core = 20
			add_state_core = 32
			add_state_core = 21
			add_state_core = 735

			transfer_state = 31
			transfer_state = 557
			transfer_state = 22
			transfer_state = 26
			transfer_state = 20
			transfer_state = 32
			transfer_state = 21
			transfer_state = 735
		}

		WLA = {
			add_state_core = 29
			transfer_state = 29
		}
	}

	option = { #Full Dismantling
		name = waroutcome.5.c

		ai_chance = {
			factor = 10
		}

		FRA = {
			remove_state_core = 34
			remove_state_core = 14
			remove_state_core = 6
			remove_state_core = 35
			remove_state_core = 7
			remove_state_core = 36

			drop_cosmetic_tag = yes
			set_cosmetic_tag = FRA_Paris_Republic
		}

		OCT = {
			add_state_core = 31
			add_state_core = 557
			add_state_core = 22
			add_state_core = 26
			add_state_core = 20
			add_state_core = 32
			add_state_core = 21
			add_state_core = 735

			transfer_state = 31
			transfer_state = 557
			transfer_state = 22
			transfer_state = 26
			transfer_state = 20
			transfer_state = 32
			transfer_state = 21
			transfer_state = 735
		}

		NRM = {
			add_state_core = 15
			transfer_state = 15

			add_state_core = 785
			transfer_state = 785
		}

		WLA = {
			add_state_core = 29
			transfer_state = 29
		}

		BRG = {
			transfer_state = 27
			transfer_state = 809
			transfer_state = 18
			transfer_state = 685
			transfer_state = 17

			add_state_core = 27
			add_state_core = 809
			add_state_core = 18
			add_state_core = 685
			add_state_core = 17

			set_cosmetic_tag = BRG_GER_OCC
		}
	}
}

country_event = {		#German Pacific - Philippines Defeat
	id = waroutcome.6
	title = waroutcome.6.t
	desc = waroutcome.6.d
	picture = GFX_report_PB_Generic_Political_Event

	trigger = {
		tag = DAS
		has_war_with = PHI
		PHI = {
			has_capitulated = no
		}
		DAS = {
			NOT = {
				controls_state = 623
				controls_state = 327
				controls_state = 624
				controls_state = 628
				controls_state = 626
				controls_state = 625
				controls_state = 627
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	fire_only_once = yes

	option = { #Offer peace to the Phillippines
		name = waroutcome.6.a

		ai_chance = {
			factor = 100
		}

		add_political_power = -150

		add_stability = -0.1

		PHI = {
			save_global_event_target_as = winning_country

			transfer_state = 627
			transfer_state = 624
			transfer_state = 625
			transfer_state = 626
			transfer_state = 628

			drop_cosmetic_tag = yes
			set_cosmetic_tag = PHI_Free_Independent
		}

		DAS = {
			white_peace = PHI
			save_global_event_target_as = losing_country
			set_country_flag = DAS_PHI_Victory

			remove_state_core = 627
			remove_state_core = 624
			remove_state_core = 625
			remove_state_core = 626
			remove_state_core = 628
		}

		if = {
			limit = {
				GER = {
					has_war_with = PHI
				}
			}
			GER = {
				white_peace = PHI
			}
		}

		set_global_flag = war_won
		set_global_flag = show_peace_popup_alert
	}

	option = { #We will not abandon the Phillippines
		name = waroutcome.6.b

		ai_chance = {
			factor = 0
		}

		add_political_power = -50

		add_war_support = -0.1
	}
}