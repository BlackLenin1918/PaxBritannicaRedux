#URAJIO ACCORDS EVENT TREE  aaa

add_namespace = ju

#russia invited to the accords
country_event = {
	id = ju.1
	title = ju.1.t
	desc = ju.1.d
	picture = GFX_report_event_conference

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #yes
		name = ju.1.a
		JAP = { country_event = { id = ju.2 days = 1 }}
	}
	option = { #no
		name = ju.1.b
		JAP = { country_event = { id = ju.3 days = 1 }}
		ai_chance = { 
			factor = 0
			modifier = {
				factor = 1000
				SOV = { has_government = monarchism }
			}
		}
	}
}

country_event = { #russia accepts
	id = ju.2
	title = ju.2.t
	desc = ju.2.d
	picture = GFX_report_event_conference

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #proceed
		name = ju.2.a 
		SOV = { country_event = { id = ju.4 days = 1 }}
	}
}

country_event = { #russia denies
	id = ju.3
	title = ju.3.t
	desc = ju.3.d
	picture = GFX_report_event_diplomatic_visit

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #failure
		name = ju.3.a 
		set_global_flag = urajio_failure
	}
}


country_event = { #russian demands
	id = ju.4
	title = ju.4.t
	desc = ju.4.d
	picture = GFX_report_event_diplomatic_visit

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #demand regions
		name = ju.4.a
		JAP = { country_event = { id = ju.5 days = 1 }}
		ai_chance = { factor = 70 }
	}
	option = { #demand ports
		name = ju.4.b
		JAP = { country_event = { id = ju.6 days = 1 }}
		ai_chance = { factor = 30 }
	}
}

country_event = { #russia demanded regions
	id = ju.5
	title = ju.5.t
	desc = ju.5.d
	picture = GFX_report_event_jap_blockade_rus

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #yes
		name = ju.5.a
		JAP = { country_event = { id = ju.9 days = 1 }}
	}
	option = { #no
		name = ju.5.b
		JAP = { country_event = { id = ju.7 days = 1 }}
	}
}

country_event = { #russia demanded ports
	id = ju.6
	title = ju.6.t
	desc = ju.6.d
	picture = GFX_report_event_jap_blockade_rus

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #yes
		name = ju.6.a
		SOV = { country_event = { id = ju.10 days = 1 }}
	}
	option = { #no
		name = ju.6.b
		SOV = { country_event = { id = ju.7 days = 1 }}
		clr_global_flag = jap_lease
	}
}

country_event = { #japan says no
	id = ju.7
	title = ju.7.t
	desc = ju.7.d
	picture = GFX_report_event_russian_judge

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #exit 
		name = ju.7.a
		JAP = { country_event = { id = ju.8 hours = 1 }}
	}
}

country_event = { # russia exits
	id = ju.8
	title = ju.8.t
	desc = ju.8.d
	picture = GFX_report_event_russian_judge

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #failure
		name = ju.8.a
		set_global_flag = urajio_failure
	}
}


country_event = { #japan makes counteroffer
	id = ju.9
	title = ju.9.t
	desc = ju.9.d
	picture = GFX_report_event_russian_judge

	fire_only_once = yes 

	is_triggered_only = yes


	option = { #pay
		name = ju.9.a
		SOV = { country_event = { id = ju.12 days = 1 }}
		set_global_flag = russia_pay
	}
	option = { #lease
		name = ju.9.b
		SOV = { country_event = { id = ju.11 days = 1 }}
		set_global_flag = russia_lease
	}
	option = { #nothing
		name = ju.9.c
		SOV = { country_event = { id = ju.10 days = 1 }}
		set_global_flag = russia_cede
	}
}

country_event = { #nothing required
	id = ju.10
	title = ju.10.t
	desc = ju.10.d
	picture = GFX_report_event_international_meeting7

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #proceed
		name = ju.10.a
		news_event = { id = ju.15 days = 1 }
		hidden_effect = {
			SOV = { country_event = { id = ju.17 days = 1 }}
		}
	}
}

country_event = { #japan wants lease
	id = ju.11
	title = ju.11.t
	desc = ju.11.d
	picture = GFX_report_event_international_meeting3

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #yes
		name = ju.11.a
		JAP = { country_event = { id = ju.13 days = 1 }}
		ai_chance = { factor = 75 }
	}
	option = { #no
		name = ju.11.b
		JAP = { country_event = { id = ju.14 days = 1 }}
		clr_global_flag = russia_lease
		ai_chance = { factor = 25 }
	}
}



country_event = { #japan wants payment
	id = ju.12
	title = ju.12.t
	desc = ju.12.d
	picture = GFX_report_event_international_meeting3

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #yes
		name = ju.12.a
		JAP = { country_event = { id = ju.13 days = 1 }}
		ai_chance = { factor = 75 }
	}
	option = { #no
		name = ju.12.b
		JAP = { country_event = { id = ju.14 days = 1 }}
		clr_global_flag = russia_pay
		ai_chance = { factor = 25 }
	}
}


country_event = { #russia agrees
	id = ju.13
	title = ju.13.t
	desc = ju.13.d
	picture = GFX_report_event_international_meeting7

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #proceed
		name = ju.13.a
		news_event = { id = ju.15 days = 1 }
		hidden_effect = {
			SOV = { country_event = { id = ju.17 days = 1 }}
		}
	}
}


country_event = { #russia rejects
	id = ju.14
	title = ju.14.t
	desc = ju.14.d
	picture = GFX_report_event_international_meeting2

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #make another offer
		name = ju.14.a
		JAP = { country_event = { id = ju.9 days = 1 }}
	}
	option = { #exit
		name = ju.14.b
		SOV = { country_event = { id = ju.16 days = 1 }}
	}
}


news_event = { #successful negotiations
	id = ju.15
	title = ju.15.t
	desc = ju.15.d
	major = yes

	is_triggered_only = yes

	option = { #success
		name = ju.15.a
		trigger = {
			OR = {
				tag = SOV
				tag = JAP
			}
		}
	}	
	option = { #success
		name = ju.15.b
		trigger = {
			NOT = {
				tag = SOV
				tag = JAP
			}
		}
	}
}



country_event = { #japan exits
	id = ju.16
	title = ju.16.t
	desc = ju.16.d
	picture = GFX_report_event_international_meeting2

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #failure
		name = ju.16.a
		set_global_flag = urajio_failure
	}
}

country_event = { #doing the work
	id = ju.17
	hidden = yes

	fire_only_once = yes 

	is_triggered_only = yes

	option = { #success
		set_global_flag = urajio_success
		if = {
			limit = {
				has_global_flag = jap_lease
			}
			SOV = { 
				add_political_power = -25
				transfer_state = 745
			}			
			528 = {
				add_building_construction = {
					type = naval_base
					level = 5
					province = 6961
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 6961 
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_global_flag = russia_lease
			}
			SOV = { 
				transfer_state = 408
				transfer_state = 409
				add_political_power = 75
			}
			528 = {
				add_building_construction = {
					type = naval_base
					level = 5
					province = 6961
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 6961 
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_global_flag = russia_cede
			}
			SOV = { 
				transfer_state = 408
				transfer_state = 409
				transfer_state = 745
				add_political_power = 100
			}
			JAP = { add_political_power = -50 }
		}
		if = {
			limit = {
				has_global_flag = russia_pay
			}
			SOV = { 
				transfer_state = 408
				transfer_state = 409
				transfer_state = 745
				add_political_power = -50
			}
			408 = { add_manpower = -60000 }
			409 = { add_manpower = -30000 }
			534 = { add_manpower = 30000 }
			536 = { add_manpower = 30000 }
			537 = { add_manpower = 30000 }
			JAP = { add_political_power = 50 }
		}
	}
}