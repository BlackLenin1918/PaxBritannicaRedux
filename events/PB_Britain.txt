##################
# BRITAIN EVENTS 
##################

add_namespace = britain

country_event = {		#King George V Dies
	id = britain.1
	title = britain.1.t
	desc = britain.1.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = britain.1.a

		kill_country_leader = yes

		ENG = {
			set_country_flag = ENG_George_V_Dead
			set_country_flag = ENG_George_V_Dead_Super_Event_Visible
			set_country_flag = Super_Event_Visible
		}

		hidden_effect = {
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = RC_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = CN_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = LB_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = SS_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = DS_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
			create_country_leader = {
				name = "HM Edward VIII"
				desc = "ENG_Edward_VIII_Desc"
				picture = "Portrait_ENG_Edward_VII.dds"
				exire = "1965.1.1"
				ideology = NI_VARIANT_01
				traits = {
					PB_Authoritarian_Sympathies
				}
			}
		}

		if = {
			limit = {
				all_country = {
					exists = yes
					NOT = {
						tag = ENG
					}
				}
			}
			set_country_flag = ENG_George_V_Dead_Super_Event_Visible
			set_country_flag = Super_Event_Visible
		}

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.2 days = 30 } 
			}
		}
	}
}

country_event = {		#The London Stock Crisis 
	id = britain.2
	title = britain.2.t
	desc = britain.2.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = britain.2.a

		add_ideas = PB_ENG_Great_Slump
		
		remove_ideas = PB_ENG_Economic_Stagnation

		add_political_power = -150

		ENG = {
			set_country_flag = ENG_London_Stock_Crisis

			country_event = { id = britain.3 days = 2 } 
		}

		hidden_effect = {
			every_country = {
				news_event = { id = PBNews.1 days = 1 } 
			}
		}	
	}
}

country_event = {		#The Crisis Expands
	id = britain.3
	title = britain.3.t
	desc = britain.3.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = britain.3.a

		add_political_power = -100

		ENG = { 
			country_event = { id = britain.4 days = 7 } 

			set_country_flag = ENG_London_Stock_Crisis_Expands
		}
	}
}

country_event = {		#The Aftermath of the Initial Crisis
	id = britain.4
	title = britain.4.t
	desc = britain.4.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = britain.4.a

		add_political_power = -50

		add_ideas = PB_ENG_Crippling_Unemployment

		custom_effect_tooltip = opposition_support_increase_twenty_tt

		add_to_variable = {
			var = opposition_support
			value = 20
		}

		ENG = { 
			country_event = { id = britain.5 days = 1 } 
		}
	}
}

country_event = {		#The Tory-Whig Coalition Collapses
	id = britain.5
	title = britain.5.t
	desc = britain.5.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = britain.5.a

		add_political_power = -100

		custom_effect_tooltip = opposition_support_increase_ten_tt

		add_to_variable = {
			var = opposition_support
			value = 10
		}

		add_popularity = {
		    ideology = cn
		    popularity = -0.10
		}

		add_popularity = {
		    ideology = lb
		    popularity = -0.10
		}

		ENG = { 
			country_event = { id = britain.6 days = 1 } 
		}
	}
}

country_event = {		#General Election Begins
	id = britain.6
	title = britain.6.t
	desc = britain.6.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		# set up the flag starting values
		set_country_flag = { flag = ENG_Election_Tories_Popularity value = 0 }
		set_country_flag = { flag = ENG_Election_Whigs_Popularity value = 0 }
		set_country_flag = { flag = ENG_Election_Unionist_Popularity value = 0 }
		set_country_flag = { flag = ENG_Election_NPP_Popularity value = 0 }
	}

	option = {
		name = britain.6.a

		add_political_power = 50

		ENG = { 
			country_event = { id = britain.7 days = 10 } 
		}

	}
}

country_event = {		#General Election Chain - Scottish General Elections
	id = britain.7
	title = britain.7.t
	desc = britain.7.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Tories gain support
		name = britain.7.a

		ai_chance = {
			factor = 10
		}

		add_political_power = -25

		add_popularity = {
		    ideology = cn
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Tories_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.8 days = 7 } 
		}
	}

	option = { #The Whigs gain support
		name = britain.7.b

		ai_chance = {
			factor = 20
		}

		add_political_power = -25

		add_popularity = {
		    ideology = lb
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Whigs_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.8 days = 7 } 
		}
	}

	option = { #The Unionists gain support
		name = britain.7.c

		ai_chance = {
			factor = 50
		}

		add_political_power = -10

		add_popularity = {
		    ideology = ss
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Unionist_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.8 days = 7 } 
		}
	}

	option = { #The NPP gain support
		name = britain.7.e

		ai_chance = {
			factor = 20
		}

		add_political_power = -50

		add_popularity = {
		    ideology = rc
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_NPP_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.8 days = 7 } 
		}
	}
}

country_event = {		#General Election Chain - Northern General Elections
	id = britain.8
	title = britain.8.t
	desc = britain.8.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Tories gain support
		name = britain.8.a

		ai_chance = {
			factor = 10
		}

		add_political_power = -25

		add_popularity = {
		    ideology = cn
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Tories_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.9 days = 7 } 
		}
	}

	option = { #The Whigs gain support
		name = britain.8.b

		ai_chance = {
			factor = 20
		}

		add_political_power = -25

		add_popularity = {
		    ideology = lb
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Whigs_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.9 days = 7 } 
		}
	}

	option = { #The Unionists gain support
		name = britain.8.c

		ai_chance = {
			factor = 50
		}

		add_political_power = -10

		add_popularity = {
		    ideology = ss
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Unionist_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.9 days = 7 } 
		}
	}

	option = { #The NPP gain support
		name = britain.8.e

		ai_chance = {
			factor = 20
		}

		add_political_power = -50

		add_popularity = {
		    ideology = rc
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_NPP_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.9 days = 7 } 
		}
	}
}

country_event = {		#General Election Chain - Southern General Elections
	id = britain.9
	title = britain.9.t
	desc = britain.9.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Tories gain support
		name = britain.9.a

		ai_chance = {
			factor = 10
		}

		add_political_power = -25

		add_popularity = {
		    ideology = cn
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Tories_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.10 days = 1 } 
		}
	}

	option = { #The Whigs gain support
		name = britain.9.b

		ai_chance = {
			factor = 20
		}

		add_political_power = -25

		add_popularity = {
		    ideology = lb
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Whigs_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.10 days = 1 } 
		}
	}

	option = { #The Unionists gain support
		name = britain.9.c

		ai_chance = {
			factor = 50
		}

		add_political_power = -10

		add_popularity = {
		    ideology = ss
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_Unionist_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.10 days = 1 } 
		}
	}

	option = { #The NPP gain support
		name = britain.9.e

		ai_chance = {
			factor = 20
		}

		add_political_power = -50

		add_popularity = {
		    ideology = rc
		    popularity = 0.05
		}

		modify_country_flag = { flag = ENG_Election_NPP_Popularity value = 1 }

		ENG = { 
			country_event = { id = britain.10 days = 1 } 
		}
	}
}

country_event = {		#General Election Chain - Results
	id = britain.10
	title = britain.10.t
	desc = britain.10.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = britain.10.a

		ai_chance = {
			factor = 100
		}

		hidden_effect = {
			if = {
				limit = {
					original_tag = ENG
					ENG = {
						has_country_flag = { flag = ENG_Election_Tories_Popularity value > 2 }
					}
				}
				country_event = { id = britain.11 } # Tory Win
			}

			if = {
				limit = {
					original_tag = ENG
					ENG = {
						has_country_flag = { flag = ENG_Election_Whigs_Popularity value > 2 }
					}
				}
				country_event = { id = britain.12 } # Whig Win
			}

			if = {
				limit = {
					original_tag = ENG
					ENG = {
						has_country_flag = { flag = ENG_Election_Unionist_Popularity value > 2 }
					}
				}
				country_event = { id = britain.13 } # WUP Win
			}

			if = {
				limit = {
					original_tag = ENG
					ENG = {
						has_country_flag = { flag = ENG_Election_NPP_Popularity value > 2 }
					}
				}
				country_event = { id = britain.14 } # NPP Win
			}

			if = {
				limit = {
					original_tag = ENG
					ENG = {
						has_country_flag = { flag = ENG_Election_Tories_Popularity value < 2 }
						has_country_flag = { flag = ENG_Election_Whigs_Popularity value < 2 }
						has_country_flag = { flag = ENG_Election_Unionist_Popularity value < 2 }
						has_country_flag = { flag = ENG_Election_NPP_Popularity value < 2 }
					}
				}
				country_event = { id = britain.15 } # No Clear Winner - Runoff Elections
			}
		}
	}
}

country_event = {		#General Election Chain - Tory Victory
	id = britain.11
	title = britain.11.t
	desc = britain.11.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = britain.11.a

		ai_chance = {
			factor = 100
		}

		add_political_power = 50

		add_popularity = {
		    ideology = cn
		    popularity = 0.05
		}

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}
}

country_event = {		#General Election Chain - Whig Victory
	id = britain.12
	title = britain.12.t
	desc = britain.12.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = britain.12.a

		ai_chance = {
			factor = 100
		}

		add_political_power = 50

		set_politics = { 
			ruling_party = lb 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = lb
		    popularity = 0.15
		}

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}
}

country_event = {		#General Election Chain - WUP Victory
	id = britain.13
	title = britain.13.t
	desc = britain.13.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = britain.13.a

		ai_chance = {
			factor = 100
		}

		add_political_power = 100

		set_politics = { 
			ruling_party = ss 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = ss
		    popularity = 0.15
		}

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.16 days = 3 } 
			}
		}
	}
}

country_event = {		#General Election Chain - NPP Victory
	id = britain.14
	title = britain.14.t
	desc = britain.14.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { 
		name = britain.14.a

		ai_chance = {
			factor = 100
		}

		add_political_power = 50

		set_politics = { 
			ruling_party = rc 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = rc
		    popularity = 0.15
		}

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}
}

country_event = {		#General Election Chain - Runoff Elections
	id = britain.15
	title = britain.15.t
	desc = britain.15.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #Tories secure victory
		name = britain.15.a

		ai_chance = {
			factor = 30
		}

		add_political_power = -50

		add_popularity = {
		    ideology = cn
		    popularity = 0.10
		}

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}

	option = { #Whigs secure victory
		name = britain.15.b

		ai_chance = {
			factor = 70
		}

		add_political_power = -50

		set_politics = { 
			ruling_party = lb 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = lb
		    popularity = 0.15
		}`

		hidden_effect = {
			set_country_flag = ENG_General_Election_Completed
			clr_country_flag = ENG_Election_Tories_Popularity
			clr_country_flag = ENG_Election_Whigs_Popularity
			clr_country_flag = ENG_Election_Unionist_Popularity
			clr_country_flag = ENG_Election_NPP_Popularity

			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}
}

country_event = {		#General Election Chain - King's Opposition
	id = britain.16
	title = britain.16.t
	desc = britain.16.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The King forms the Government without incident
		name = britain.16.a

		ai_chance = {
			factor = 90
		}

		add_political_power = 50

		add_popularity = {
		    ideology = ss
		    popularity = 0.10
		}

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.17 days = 7 } 
			}
		}
	}

	option = { #The King Refuses to Form a New Government
		name = britain.16.b

		ai_chance = {
			factor = 10
		}

		add_political_power = -100

		set_politics = { 
			ruling_party = lb 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = lb
		    popularity = 0.16
		}

		custom_effect_tooltip = tooltip_ENG_weak_coalition

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.18 days = 7 } 
			}
		}
	}
}

country_event = {		#General Election Chain - The National Recovery Act Passes
	id = britain.17
	title = britain.17.t
	desc = britain.17.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Act Passes
		name = britain.17.a

		ai_chance = {
			factor = 30
		}

		add_political_power = 150

		swap_ideas = {
			remove_idea = PB_ENG_Great_Slump
			add_idea = PB_ENG_National_Recovery_Act
		}
	}
}

country_event = {		#General Election Chain - The National Recovery Act Fails
	id = britain.18
	title = britain.18.t
	desc = britain.18.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Act Fails
		name = britain.18.a

		ai_chance = {
			factor = 70
		}

		add_political_power = -100

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.19 days = 7 } 
			}
		}
	}
}

country_event = {		#The National Recovery Act Fails - Trade Union Announces General Strike
	id = britain.19
	title = britain.19.t
	desc = britain.19.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #
		name = britain.19.a

		ai_chance = {
			factor = 70
		}

		add_political_power = -50

		add_timed_idea  = {
			ENG_General_Strike
			days = 60
		}

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.20 days = 2 } 
			}
		}
	}
}

country_event = {		#The National Recovery Act Fails - Trade Union Announces General Strike - Violence Breaks Out
	id = britain.20
	title = britain.20.t
	desc = britain.20.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Act Fails
		name = britain.20.a

		ai_chance = {
			factor = 70
		}

		add_political_power = -50

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.21 days = 5 } 
			}
		}
	}
}

country_event = {		#The National Recovery Act Fails - Bread Riots in London
	id = britain.21
	title = britain.21.t
	desc = britain.21.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #The Act Fails
		name = britain.21.a

		ai_chance = {
			factor = 70
		}

		add_political_power = -25

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.22 days = 7 } 
			}
		}
	}
}

country_event = {		#The National Recovery Act Fails - Military approaches the King
	id = britain.22
	title = britain.22.t
	desc = britain.22.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #
		name = britain.22.a

		ai_chance = {
			factor = 70
		}

		hidden_effect = {
			ENG = { 
				country_event = { id = britain.22 days = 10 } 
			}
		}
	}
}

country_event = {		#The National Recovery Act Fails - Military Coup
	id = britain.23
	title = britain.23.t
	desc = britain.23.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #
		name = britain.23.a

		ai_chance = {
			factor = 70
		}

		set_politics = { 
			ruling_party = ds 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = ds
		    popularity = 0.05
		}
	}
}

country_event = {		#Collapse of the Absolutist Government
	id = britain.24
	title = britain.24.t
	desc = britain.24.d
	picture = GFX_report_event_diplomatic_message

	is_triggered_only = yes

	fire_only_once = yes

	option = { #
		name = britain.24.a

		ai_chance = {
			factor = 70
		}

		set_politics = { 
			ruling_party = ds 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = ds
		    popularity = 0.05
		}

		create_country_leader = {
			name = "J. F. C. Fuller"
			desc = "JFCFuller_Desc"
			picture = "Portrait_ENG_JFC_Fuller.dds"
			exire = "1965.1.1"
			ideology = DS_VARIANT_01
		}

		set_cosmetic_tag = ENG_Commonwealth
	}

	option = { #
		name = britain.24.b

		ai_chance = {
			factor = 70
		}

		set_politics = { 
			ruling_party = ss 
			elections_allowed = no 
		}

		add_popularity = {
		    ideology = ss
		    popularity = 0.05
		}

		create_country_leader = {
			name = "Transitional Parliament"
			desc = "TransParm_Desc"
			picture = "Portrait_ENG_TransParm.dds"
			exire = "1965.1.1"
			ideology = SS_VARIANT_01
		}

		set_cosmetic_tag = ENG_Republic
	}
}